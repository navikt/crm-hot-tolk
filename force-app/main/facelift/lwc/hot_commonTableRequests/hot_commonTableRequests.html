<template>
    <template lwc:if={hasData}>
        <div class="table-wrapper" role="region" aria-label={ariaLabel} tabindex="0">
            <table class="data-table" role="table">
                <thead>
                    <tr role="row">
                        <template for:each={columns} for:item="col">
                            <th key={col.fieldName} scope="col" role="columnheader">{col.label}</th>
                        </template>
                    </tr>
                </thead>
                <tbody>
                    <template for:each={recordsToShow} for:item="row">
                        <tr
                            key={row.id}
                            data-id={row.id}
                            class="row"
                            onclick={handleRowClick}
                            onkeydown={handleRowKeydown}
                            tabindex="0"
                            role="row"
                        >
                            <!-- Mobile-only: show status as full-width row above -->
                            <td class="mobile-status-label-wrapper" aria-hidden="true">
                                <template lwc:if={row.statusLabel}>
                                    <div class={row.mobileStatusClass}>{row.statusLabel}</div>
                                </template>
                            </td>

                            <!-- Render each field cell -->
                            <template for:each={row.fields} for:item="field">
                                <td key={field.name} role="cell">
                                    <template lwc:if={field.isStatus}>
                                        <span class={field.fullCssClass}> {field.displayLabel} </span>
                                    </template>
                                    <template lwc:else> {field.displayLabel} </template>
                                </td>
                            </template>
                        </tr>
                    </template>
                </tbody>
            </table>
        </div>
    </template>

    <template lwc:else>
        <div class="no-data" role="status" aria-live="polite">
            <p>Ingen data Ã¥ vise.</p>
        </div>
    </template>
</template>
