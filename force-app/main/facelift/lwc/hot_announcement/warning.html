<template>
    <div class="warning" role="region" aria-labelledby="warning-header">
        <!-- HEADER / TOGGLE -->
        <button
            id="warning-header"
            class="header"
            onclick={toggleExpand}
            aria-expanded={expanded}
            aria-controls="warning-content"
        >
            <img src={ExclamationmarkIcon} aria-hidden="true" class="icon left" />

            <span class="title">{headerTitle}</span>

            <img src={chevronIcon} aria-hidden="true" class="icon right" />
        </button>

        <!-- BODY -->
        <div lwc:if={expanded} class="content" id="warning-content" aria-live="polite">
            <!-- SINGLE MODE -->
            <template lwc:if={isSingle}>
                <div class="description-inner">
                    <p class="description">{singleItem.Description__c}</p>
                    <p lwc:if={singleItem.Url__c}>
                        <a href={singleItem.Url__c} target="_blank" rel="noopener noreferrer"
                            >{singleItem.UrlLabel__c}</a
                        >
                    </p>
                </div>
            </template>

            <!-- GROUP MODE -->
            <template lwc:if={isGroup}>
                <div class="description-inner">
                    <template for:each={announcements} for:item="a">
                        <div key={a.Title__c} class="single-announcement">
                            <p class="announcement-title">{a.Title__c}</p>
                            <p class="description">{a.Description__c}</p>
                            <p lwc:if={a.Url__c}>
                                <a href={a.Url__c} target="_blank" rel="noopener noreferrer">{a.UrlLabel__c}</a>
                            </p>
                        </div>
                    </template>
                </div>
            </template>
        </div>
    </div>
</template>
