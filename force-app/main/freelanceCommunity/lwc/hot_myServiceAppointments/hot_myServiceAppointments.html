<template>
    <div class="main-content">
        <div class="right-content">
            <lightning-input
                type="checkbox"
                class="filter-list-checkbox"
                label="Vis historiske oppdrag"
                name="ShowAll"
                onchange={handleChecked}
            >
            </lightning-input>
            <div class="mobile-only" style="margin-bottom: 0.5rem; width: 100%">
                <c-picklist
                    master-label="Sorter etter"
                    choices={sortingOptions}
                    onpicklistvaluechange={onHandleSort}
                ></c-picklist>
            </div>
        </div>
        <lightning-datatable
            key-field="AppointmentNumber"
            data={myServiceAppointmentsFiltered}
            columns={columns}
            hide-checkbox-column="true"
            default-sort-direction={defaultSortDirection}
            sorted-direction={sortDirection}
            sorted-by={sortedBy}
            onsort={onHandleSort}
            onrowaction={handleRowAction}
        >
        </lightning-datatable>
    </div>

    <div
        class="ReactModal__Overlay ReactModal__Overlay--after-open modal__overlay hidden detailPage"
        style="z-index: 9999; background-color: rgba(50, 65, 79, 0.8)"
        tabindex="-1"
    >
        <div
            class="ReactModal__Content ReactModal__Content--after-open navno-dekorator comments-dialog-container"
            role="dialog"
            aria-labelledby="details-header-id"
        >
            <section>
                <h2 id="details-header-id" class="typo-undertittel">Detaljer</h2>
                <c-hot_record-details record={serviceAppointmentDetails}></c-hot_record-details>
            </section>
            <section if:true={contentDocumentsNotEmpty}>
                <div class="listelement__header"><p class="typo-element">Vedlegg</p></div>
                <template iterator:it={contentDocuments}>
                    <a class="typo-normal content" href="$downloadLinkWithoutPostfix . $it.value.Id" key={it.value.Id}>
                        {downloadLinkWithoutPostfix}{it.value.Title}
                    </a>
                </template>
            </section>
            <button class="lukknapp lukknapp--overstHjorne modal__lukkknapp--shake" onclick={abortShowDetails}>
                <span class="text-hide">Lukk</span></button
            ><!-- ToDo, se om vi kan hente ut alt fra  HOT_Record-Details istedenfor slik det er nÃ¥.-->
        </div>
    </div>
</template>
